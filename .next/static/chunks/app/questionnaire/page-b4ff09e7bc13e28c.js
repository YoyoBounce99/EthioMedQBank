(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{63:(e,r,t)=>{"use strict";var l=t(7260);t.o(l,"useRouter")&&t.d(r,{useRouter:function(){return l.useRouter}})},1847:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var l=t(2115);let s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,l.forwardRef)((e,r)=>{let{color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:u="",children:o,iconNode:c,...m}=e;return(0,l.createElement)("svg",{ref:r,...a,width:n,height:n,stroke:t,strokeWidth:d?24*Number(i)/Number(n):i,className:s("lucide",u),...m},[...c.map(e=>{let[r,t]=e;return(0,l.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),i=(e,r)=>{let t=(0,l.forwardRef)((t,a)=>{let{className:i,...d}=t;return(0,l.createElement)(n,{ref:a,iconNode:r,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...d})});return t.displayName="".concat(e),t}},2353:(e,r,t)=>{Promise.resolve().then(t.bind(t,5175))},2529:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(1847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2899:(e,r,t)=>{"use strict";t.d(r,{U:()=>a});var l=t(8490),s=t(5704);let a=()=>(0,l.createBrowserClient)(s.env.NEXT_PUBLIC_SUPABASE_URL,s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},5175:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var l=t(5155),s=t(2115),a=t(2899),n=t(63);let i=(0,t(1847).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var d=t(2529),u=t(5299);let o=["Med Student","Intern","GP (General Practitioner)","Resident","Specialist","Fellow","Sub Specialist"];function c(){let[e,r]=(0,s.useState)({name:"",age:"",sex:"",university:"",level:""}),[t,c]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),p=(0,a.U)(),b=(0,n.useRouter)();(0,s.useEffect)(()=>{p.auth.getUser().then(e=>{let{data:t}=e;if(t.user){var l,s;h(t.user);let e=(null==(l=t.user.user_metadata)?void 0:l.name)||(null==(s=t.user.email)?void 0:s.split("@")[0])||"";r(r=>({...r,name:e}))}else b.replace("/signup")})},[b,p]);let f=t=>{r({...e,[t.target.name]:t.target.value})},v=async r=>{if(r.preventDefault(),!g)return;c(!0);let{error:t}=await p.from("profiles").upsert({id:g.id,...e,updated_at:new Date().toISOString()});t?alert("Error saving profile. Please try again."):(x(!0),setTimeout(()=>b.push("/payment-instructions"),2e3)),c(!1)};return g?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,l.jsxs)("div",{className:"w-full max-w-lg bg-white rounded-2xl shadow-2xl p-8 border-t-4 border-blue-600",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)(i,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),(0,l.jsx)("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Complete Your Profile"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Help us personalize your ApexQbank experience"})]}),m?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(d.A,{className:"w-20 h-20 text-green-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-green-700",children:"Profile Saved!"}),(0,l.jsx)("p",{className:"text-gray-600 mt-2",children:"Redirecting to payment instructions..."})]}):(0,l.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,l.jsx)("input",{type:"text",name:"name",value:e.name,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),(0,l.jsx)("input",{type:"number",name:"age",value:e.age,onChange:f,required:!0,min:"18",max:"100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sex"}),(0,l.jsxs)("select",{name:"sex",value:e.sex,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"Select"}),(0,l.jsx)("option",{value:"Male",children:"Male"}),(0,l.jsx)("option",{value:"Female",children:"Female"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"University"}),(0,l.jsx)("input",{type:"text",name:"university",value:e.university,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Addis Ababa University"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Professional Level"}),(0,l.jsxs)("select",{name:"level",value:e.level,onChange:f,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"Select Level"}),o.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]}),(0,l.jsx)("button",{type:"submit",disabled:t,className:"w-full py-4 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center justify-center",children:t?(0,l.jsx)(u.A,{className:"w-6 h-6 animate-spin"}):"Save & Continue â†’"})]})]})}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."})}},5299:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[490,441,255,358],()=>e(e.s=2353)),_N_E=e.O()}]);